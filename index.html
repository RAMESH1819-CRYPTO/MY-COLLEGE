<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>InstaClone</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Header -->
    <header id="header" class="hidden">
        <div class="container">
            <h1 class="logo">InstaClone</h1>
            <nav>
                <button id="logoutBtn" class="btn-text">Logout</button>
            </nav>
        </div>
    </header>

    <!-- Login Page -->
    <div id="loginPage" class="auth-container">
        <div class="auth-box">
            <h1 class="auth-logo">InstaClone</h1>
            <form id="loginForm">
                <input type="email" id="loginEmail" placeholder="Email" required>
                <input type="password" id="loginPassword" placeholder="Password" required>
                <button type="submit" class="btn-primary">Log In</button>
            </form>
            <div class="auth-divider">
                <span>OR</span>
            </div>
            <p class="auth-switch">Don't have an account? <a href="#" id="showSignup">Sign up</a></p>
        </div>
    </div>

    <!-- Signup Page -->
    <div id="signupPage" class="auth-container hidden">
        <div class="auth-box">
            <h1 class="auth-logo">InstaClone</h1>
            <p class="auth-subtitle">Sign up to see photos from your friends.</p>
            <form id="signupForm">
                <input type="email" id="signupEmail" placeholder="Email" required>
                <input type="text" id="signupUsername" placeholder="Username" required>
                <input type="text" id="signupFullName" placeholder="Full Name" required>
                <input type="password" id="signupPassword" placeholder="Password" required>
                <button type="submit" class="btn-primary">Sign Up</button>
            </form>
            <p class="auth-switch">Have an account? <a href="#" id="showLogin">Log in</a></p>
        </div>
    </div>

    <!-- Main App Container -->
    <div id="appContainer" class="hidden">
        <!-- Stories Bar -->
        <div class="stories-bar">
            <div class="container">
                <div class="stories-scroll">
                    <div class="story-item">
                        <div class="story-avatar">
                            <img src="https://via.placeholder.com/60" alt="Your story">
                        </div>
                        <span>Your story</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Home Feed -->
        <div id="homeFeed" class="feed-container">
            <div class="container">
                <div id="postsContainer" class="posts-wrapper">
                    <!-- Posts will be loaded here -->
                </div>
            </div>
        </div>

        <!-- Upload Page -->
        <div id="uploadPage" class="upload-container hidden">
            <div class="container">
                <div class="upload-box">
                    <h2>Create New Post</h2>
                    <form id="uploadForm">
                        <div class="image-preview-container">
                            <input type="file" id="imageInput" accept="image/*" required>
                            <label for="imageInput" class="file-label">
                                <span id="fileLabel">Choose a photo</span>
                            </label>
                            <img id="imagePreview" class="image-preview hidden" alt="Preview">
                        </div>
                        <textarea id="captionInput" placeholder="Write a caption..." rows="4"></textarea>
                        <button type="submit" class="btn-primary">Share</button>
                        <button type="button" id="cancelUpload" class="btn-secondary">Cancel</button>
                    </form>
                </div>
            </div>
        </div>

        <!-- Profile Page -->
        <div id="profilePage" class="profile-container hidden">
            <div class="container">
                <div class="profile-header">
                    <div class="profile-avatar">
                        <img src="https://via.placeholder.com/150" alt="Profile">
                    </div>
                    <div class="profile-info">
                        <h2 id="profileUsername">username</h2>
                        <p id="profileFullName">Full Name</p>
                        <div class="profile-stats">
                            <div class="stat">
                                <span class="stat-number" id="postCount">0</span>
                                <span class="stat-label">posts</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="profilePosts" class="profile-grid">
                    <!-- User posts will be loaded here -->
                </div>
            </div>
        </div>

        <!-- Bottom Navigation -->
        <nav class="bottom-nav">
            <button class="nav-btn active" data-page="home">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M9.005 16.545a2.997 2.997 0 0 1 2.997-2.997h0A2.997 2.997 0 0 1 15 16.545V22h7V11.543L12 2 2 11.543V22h7.005Z"/>
                </svg>
            </button>
            <button class="nav-btn" data-page="upload">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="3" y="3" width="18" height="18" rx="2"/>
                    <line x1="12" y1="8" x2="12" y2="16"/>
                    <line x1="8" y1="12" x2="16" y2="12"/>
                </svg>
            </button>
            <button class="nav-btn" data-page="profile">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="10"/>
                    <circle cx="12" cy="10" r="3"/>
                    <path d="M6.168 18.849A4 4 0 0 1 10 16h4a4 4 0 0 1 3.834 2.855"/>
                </svg>
            </button>
        </nav>
    </div>

    <!-- Loading Spinner -->
    <div id="loadingSpinner" class="spinner hidden">
        <div class="spinner-circle"></div>
    </div>

    <!-- Firebase SDKs -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-storage-compat.js"></script>
    
    <!-- App Script -->
    <script src="script.js"></script>
</body>
</html>